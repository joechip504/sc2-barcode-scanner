<!DOCTYPE html>
<html>
    <head>
        {% block dependencies %} {% endblock %}
        <meta charset="utf-8">
        <title>Upload a file in Django 1.5 using Dropzone.js</title>
        {% load staticfiles %}
        <link href="{% static 'main/css/dropzone.css' %}" type="text/css" rel="stylesheet"/>
        <link href="{% static 'main/css/animate.css' %}" type="text/css" rel="stylesheet"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.indigo-pink.min.css">
        <script src="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.min.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script type="text/javascript" src="{% static 'main/js/smoothscroll.js' %}"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    </head>
    <body>

        <!-- IMPORTANT enctype attribute! -->
        <form class="dropzone" action="{% url "main:home" %}" method="post" enctype="multipart/form-data" id="myDropzone">
            {% csrf_token %}
        </form>

        <script src="{% static 'main/js/dropzone.js' %}"></script>
        <script type="text/javascript">

            function exampleReplay() {
              $.ajax({url: "/results/22", success: function(result){
                $("#welcome").hide();
                $(result).hide().prependTo("#results").slideDown(1000);
              }});
            }

            Dropzone.options.myDropzone = {

                // Prevents/enables Dropzone from uploading dropped files immediately
                autoProcessQueue : true,

                init: function() {
                  this.on("addedfile", function(file) {
                    console.log("hello");
                  });

                  this.on("success", function(file, response) {
                    console.log(file);
                    console.log(response);
                    // results_block.appendChild(div);
                    $(response).hide().prependTo("#results").slideDown(1000);
                  });
                }
            };
        </script>

        <style>
        .demo-card-wide.mdl-card {
          width: 512px;
          margin-left: auto;
          margin-right: auto;
        }
        .demo-card-wide > .mdl-card__title {
          color: #fff;
          height: 176px;
          background: url('http://www.hdwallpapers.in/walls/starcraft_2_heart_of_the_swarm-HD.jpg') center / cover;
        }
        .demo-card-wide > .mdl-card__menu {
          color: #fff;
        }
        #guess {
          color: green;
          font-weight: bold;
        }
        .mdl-card__supporting-text {
          margin-left: auto;
          margin-right: auto;
        }
        .guess_row {
          cursor: pointer;
        }
        </style>

        <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="clearResults()">
          Example Replay
        </button>
        <div id="results">
          <div id="welcome">
            <div class="mdl-grid">
              <div class="mdl-cell mdl-cell--12-col mdl-cell--middle">
                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="exampleReplay()">
                  Example Replay
                </button>
              </div>
            </div>
          </div>
            {% block results %} {% endblock %}
        </div>

    </body>
</html>
